<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GIFOS</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="linea">

        </div>
        <img class="logomobile" src="images/logo-mobile.svg" alt="logo">
        <img class="logomobilenoct noc" src="images/logo-mobile-modo-noct.svg" alt="">
        <nav class="navegador">
            <input type="checkbox" class="navcb" id="navcb">
            <label for="navcb" class="label-nav">
                <img class="burger dia" src="images/burger.svg" alt="boton menu">
                <img class="burger noc" src="images/burger-modo-noct.svg" alt="boton menu">
                <img class="close dia" src="images/Button-close-modo-noc.svg" alt="cerrar menu">
                <img class="close noc" src="images/Button-close-hover-modo-noc.svg" alt="cerrar menu">
                
            </label>
            <ul class="ul-nav">
                
                    <li class=""> <a href="#">Modo Nocturno</a></li>
                    <li class=""> <a href="#" id="favoritos">Favoritos</a></li>
                    <li class=""> <a href="#">Mis GIFOS</a></li>
                    <li><img class="crear day" src="images/button-crear-gifo.svg" alt="crear"></li>
                    <li><img class="crear" src="images/CTA-crear-gifo-hover.svg" alt="crear"></li>
                    <li><img class="crear" src="images/CTA-crear-gifo-active.svg" alt="crear"></li>


            </ul>
        </nav>
    </header>
    <main>
        <div class="intro" id="intro"> 
            <h1 class="title">Inspírate, busca, guarda, y crea los mejores <span class="title GIFOS">GIFOS</span></h1>
            <img class="imgppal" src="images/ilustra_header.svg" alt="">
            <div class="search">
                <input type="search" placeholder="Buscá GIFOS y más...">
                <img class="buscar" src="images/icon-search.svg" alt="buscar">
                <img  class="noc" src="images/icon-search-mod-noc.svg" alt="buscar">
            </div>
            <p class="trending"> <strong> Trending</strong>: <br> Reactions, Entertainment, Sports, Stickers, Artists</p>
        </div>  

        <section class="favoritos dnone" id="favsec">
            <img src="images/icon-favoritos.svg" alt="favoritos">
            <h2 class="favtitle">Favoritos</h2>
            <img src="images/CTA-ver-mas.svg" alt="ver mas" id="vermas">
        </section>

        <section class="dnone">
            <img src="images/icon-mis-gifos.svg" alt="">
            <h2 class="mgtitle">Mis GIFOS</h2>
            <img src="images/CTA-ver-mas.svg" alt="ver mas">
        </section>

        <div class="modal">

        </div>

        <section class="lasttrending">
            <h2 class="trendingGifos">Trending GIFOS</h2>
            <p class="comunidad">Mira los ultimos GIFOS de nuestra comunidad</p>
            <div class="gallery" id="gallery">
             
            </div>
        </section>
        <footer>
            <p>Compartir en:</p>
            <div class="compartir">
                <a href="https://www.facebook.com/"><img src="images/icon_facebook.svg" alt=""></a>
                <a href="https://twitter.com/?lang=es"><img src="images/icon-twitter.svg" alt=""></a>
                <a href="https://www.instagram.com/?hl=es-la"><img src="images/icon_instagram.svg" alt=""></a>             
            </div>
            <div class="compartirnoc noc">
                <a href="https://www.facebook.com/"><img src="images/icon_facebook_noc.svg" alt=""></a>
                <a href="https://twitter.com/?lang=es"><img src="images/icon-tw-normal.svg" alt=""></a>
                <a href="https://www.instagram.com/?hl=es-la"><img src="images/icon_instagram_noc.svg" alt=""></a>
            </div>
            <p>GIFOS 2020 All Rights Reserved.</p>
            <div class="linea final">

            </div>
        </footer>
    </main>
</body>
<script>
    const favoritos = document.getElementById("favoritos")
    const favsec = document.getElementById("favsec")
    const intro = document.getElementById("intro")
    const gallery = document.getElementById("gallery")
    favoritos.addEventListener("click", activarFavoritos)

    function activarFavoritos(){
        favsec.classList.toggle("dnone");
        intro.classList.toggle("dnone");

    }

    
    const trending = galery => {
        return `https://api.giphy.com/v1/gifs/trending?api_key=EjzvMRueNdiAkT3CvCjx0kOjl8qGzxLM`;
    }

    
    
    async function showResult() {
        // event.preventDefault();
        const response = await fetch(trending());
        const results = await response.json();
        gallery.innerHTML = ""
        console.log(results);
        results.data.forEach(renderResult);
        showSlides()

        const prev = document.createElement("a")
        prev.className = "prev"
        const next = document.createElement("a")
        next.className = "next"

        gallery.appendChild(prev)
        gallery.appendChild(next)
        
        prev.addEventListener("click", () => plusSlides(-1))
        next.addEventListener("click", () => plusSlides(1))
        

    }

    const mySlides= document.getElementsByClassName("mySlides")

    function renderResult(results) {
        
        const figure = document.createElement('figure');
        const img = document.createElement('img');

        img.src = results.images.original.url;
        img.alt = results.title;
        img.className = "mySlides"
        
        
        gallery.appendChild(img);
        img.addEventListener("click", ampliar)
        
    }
    showResult()



    

    var slideIndex = 1;

    // Next/previous controls
    function plusSlides(n) {
    showSlides(slideIndex += n);
    }

    // Thumbnail image controls
    function currentSlide(n) {
    showSlides(slideIndex = n);
    }

    function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("mySlides");
 
    if (n > slides.length) {slideIndex = 1}
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
   
    slides[slideIndex-1].style.display = "block";}

   

    function ampliar(){
        gallery.classList.toggle("modal")
    }

    

    
    // const busqueda = "cat";
    // const url = `http://api.giphy.com/v1/gifs/search?api_key=EjzvMRueNdiAkT3CvCjx0kOjl8qGzxLM&q=${busqueda}`
    // fetch(url)
    // .then(response => response.json())
    // .then(data => console.log(data));
</script>
</html>
